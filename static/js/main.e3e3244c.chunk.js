(this.webpackJsonpemphasoft=this.webpackJsonpemphasoft||[]).push([[0],{127:function(e,t,a){"use strict";a.r(t);var n,r=a(0),i=a.n(r),c=a(14),s=a.n(c),o=a(82),l=a(15),u=a(16),d=a(34),j=a(156),p=a(178),b=a(52),h=a(179),O=a(174),f=a(162),m=a(73),v=a(177),x=a(166),g=a(93),y=a.n(g),w=a(92),C=a.n(w),k=a(9),_=a(41),T=["uri","method"],E="api_token_auth",S="api_v1_users_list",P="api_v1_users_create",R="api_v1_users_partial-update";function N(e){var t=e.uri,a=e.method,n=Object(_.a)(e,T);return Object(k.a)(Object(k.a)({uri:t,method:a},n),{},{formattedUri:function(e){for(var t=Object.assign({},e),a=this.uri,n=0,r=Object.entries(t);n<r.length;n++){var i=Object(l.a)(r[n],2),c=i[0],s=i[1];a=a.replace(":".concat(c),s)}return Object(k.a)(Object(k.a)({},this),{},{uri:a})}})}var U=(n={},Object(u.a)(n,E,N({uri:"/api-token-auth/",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"}})),Object(u.a)(n,S,N({uri:"/api/v1/users/",method:"GET",headers:{"Content-Type":"application/json"}})),Object(u.a)(n,P,N({uri:"/api/v1/users/",method:"POST",headers:{"Content-Type":"application/json"}})),Object(u.a)(n,"api_v1_users_read",N({uri:"/api/v1/users/:id/",method:"GET",headers:{"Content-Type":"application/json"}})),Object(u.a)(n,"api_v1_users_update",N({uri:"/api/v1/users/:id/",method:"PUT",headers:{"Content-Type":"application/json"}})),Object(u.a)(n,R,N({uri:"/api/v1/users/:id/",method:"PATCH",headers:{"Content-Type":"application/json"}})),Object(u.a)(n,"api_v1_users_delete",N({uri:"/api/v1/users/:id",method:"DELETE",headers:{"Content-Type":"application/json"}})),n),F="FETCH_START_",L="FETCH_SUCCESS_",D="FETCH_FAILURE_",I="FETCH_CLEAR_",W=function(e,t){return{type:"".concat(F).concat(e.toUpperCase()),payload:t}},z=function(e,t){return{type:"".concat(L).concat(e.toUpperCase()),payload:t}},A=function(e,t){return{type:"".concat(D).concat(e.toUpperCase()),payload:t}},B=function(e){return{type:"".concat(I).concat(e.toUpperCase()),payload:{}}},q=a(43),M=a.n(q),H=function(e){return e.api},G=function(e){var t=Object(d.b)(),a=Object(d.c)(H),n=Object(r.useCallback)((function(a,n){return t(W(e,{subpages:n,data:a}))}),[e,t]),i=Object(r.useCallback)((function(){return t(B(e))}),[e,t]);return{response:Object(r.useMemo)((function(){return a[M()(e)]}),[e,a]),performFetch:n,clearFetch:i}},X=a(19),$=a(158),J=a(160),V=a(161),Z=a(163),K=a(164),Q=a(165),Y=a(88),ee=a.n(Y),te=a(89),ae=a.n(te),ne=a(2),re=["loading","header","top"],ie=Object(j.a)((function(e){return{root:{display:"flex"},drawer:Object(u.a)({},e.breakpoints.up("md"),{width:320,flexShrink:0}),appBar:{zIndex:e.zIndex.drawer+1},menuButton:Object(u.a)({marginRight:e.spacing(2)},e.breakpoints.up("md"),{display:"none"}),drawerTop:Object(k.a)(Object(k.a)({position:"sticky",left:0,top:0,display:"flex",alignItems:"center",justifyContent:"space-between",padding:e.spacing(0,1)},e.mixins.toolbar),{},{zIndex:e.zIndex.drawer+2,backgroundColor:e.palette.background.paper}),drawerTitle:{padding:e.spacing(1.5)},drawerLoading:{padding:e.spacing(4),display:"flex",justifyContent:"center",alignItems:"center"},toolbar:e.mixins.toolbar,drawerPaper:{width:320},content:{position:"relative"}}}));var ce=function(e){var t=e.loading,a=void 0!==t&&t,n=e.header,r=void 0===n?null:n,c=e.top,s=void 0===c?null:c,o=Object(_.a)(e,re),u=ie(),d=Object(X.a)(),j=i.a.useState(!1),b=Object(l.a)(j,2),O=b[0],v=b[1],x=function(){v(!O)};return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)($.a,{}),Object(ne.jsx)(J.a,{position:"fixed",className:u.appBar,children:Object(ne.jsxs)(V.a,{children:[Object(ne.jsx)(f.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:x,className:u.menuButton,children:Object(ne.jsx)(ee.a,{})}),s]})}),Object(ne.jsxs)("nav",{className:u.drawer,children:[Object(ne.jsx)(h.a,{mdUp:!0,implementation:"css",children:Object(ne.jsxs)(Z.a,{variant:"temporary",anchor:"rtl"===d.direction?"right":"left",open:O,onClose:x,classes:{paper:u.drawerPaper},ModalProps:{keepMounted:!0},children:[Object(ne.jsxs)(m.a,{className:u.drawerTop,square:!0,children:[Object(ne.jsx)(p.a,{children:r}),Object(ne.jsx)(f.a,{onClick:function(e){e.stopPropagation(),v(!1)},children:Object(ne.jsx)(ae.a,{})})]}),Object(ne.jsx)(K.a,{}),a||!o.children?Object(ne.jsx)(p.a,{className:u.drawerLoading,children:Object(ne.jsx)(Q.a,{size:100})}):Object(ne.jsx)("div",{children:o.children})]})}),Object(ne.jsx)(h.a,{smDown:!0,implementation:"css",children:Object(ne.jsxs)(Z.a,{variant:"permanent",classes:{paper:u.drawerPaper},open:!0,children:[Object(ne.jsx)(V.a,{className:u.toolbar}),a||!o.children?Object(ne.jsx)(p.a,{className:u.drawerLoading,children:Object(ne.jsx)(Q.a,{size:100})}):Object(ne.jsx)("div",{className:u.content,children:o.children})]})})]})]})},se=Object(j.a)((function(e){return{content:{flexGrow:1,padding:e.spacing(3),display:"flex",flexDirection:"column",alignItems:"center"}}}));var oe=function(e){var t=Object.assign({},e),a=se();return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)($.a,{}),Object(ne.jsxs)("main",{className:a.content,children:[Object(ne.jsx)(V.a,{}),t.children]})]})},le=a(129),ue=a(171),de=a(172),je=a(173),pe=a(40),be=a(167),he=a(168),Oe=a(169);var fe=function(e){var t=e.onChange,a=e.value,n=void 0===a?null:a,r=i.a.useState(!1),c=Object(l.a)(r,2),s=c[0],o=c[1],u=i.a.createRef(),d=i.a.createRef(),j=function(){t({username:u.current.value,password:d.current.value})};return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(v.a,{autoFocus:!0,margin:"normal",id:"username",label:"Username",variant:"filled",type:"text",inputProps:{maxLength:150},inputRef:u,onChange:j,value:null===n||void 0===n?void 0:n.username,fullWidth:!0}),Object(ne.jsx)(v.a,{margin:"normal",id:"password",label:"Password",variant:"filled",type:s?"text":"password",inputProps:{maxLength:128},inputRef:d,onChange:j,value:null===n||void 0===n?void 0:n.password,fullWidth:!0,InputProps:{endAdornment:Object(ne.jsx)(be.a,{position:"end",children:Object(ne.jsx)(f.a,{"aria-label":"toggle password visibility",onClick:function(){o(!s)},onMouseDown:function(e){e.preventDefault()},edge:"end",children:s?Object(ne.jsx)(he.a,{}):Object(ne.jsx)(Oe.a,{})})})}})]})},me="SET_ME",ve="UNSET_ME",xe=function(e){return{type:me,payload:{username:e}}},ge=function(){return{type:ve,payload:null}},ye=a(25),we=a.n(ye),Ce=a(72),ke=a(90),_e=a(91),Te=new(function(){function e(t,a){Object(ke.a)(this,e),this.baseUrl=t,this.endpoints=a,this.common={headers:{}}}return Object(_e.a)(e,[{key:"createRequest",value:function(){var e=Object(Ce.a)(we.a.mark((function e(t,a,n){var r,i,c,s;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.endpoints[t].formattedUri(a),i=r.method,c=r.headers,s=r.uri,e.abrupt("return",fetch("".concat(this.baseUrl).concat(s),{method:i,body:JSON.stringify(n),headers:Object(k.a)(Object(k.a)({},c),this.common.headers)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"fetch",value:function(){var e=Object(Ce.a)(we.a.mark((function e(t){var a,n,r,i,c,s;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.endpoint,n=t.subpages,r=void 0===n?{}:n,i=t.data,c=void 0===i?void 0:i,e.next=3,this.createRequest(a,r,c);case 3:if(!(s=e.sent).ok){e.next=6;break}return e.abrupt("return",s.json());case 6:return e.next=8,s.json();case 8:throw e.sent;case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}())("http://emphasoft-test-assignment.herokuapp.com",U),Ee=a(170);var Se=function(e){var t=e.open,a=void 0===t||t,n=e.onClose,r=void 0===n?null:n,i=e.children;return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(h.a,{smUp:!0,children:Object(ne.jsx)(Ee.a,{open:a,onClose:r,"aria-labelledby":"form-dialog-title",fullScreen:!0,children:i})}),Object(ne.jsx)(h.a,{xsDown:!0,children:Object(ne.jsx)(Ee.a,{open:a,onClose:r,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"sm",children:i})})]})},Pe=Object(j.a)((function(e){return{button:{textTransform:"none"}}})),Re=function(e){return Object(k.a)({anchorOrigin:{horizontal:"center",vertical:"top"},transitionDuration:{appear:200,enter:200,exit:400},autoHideDuration:3e3,TransitionComponent:function(e){return Object(ne.jsx)(le.a,Object(k.a)(Object(k.a)({},e),{},{direction:"down"}))}},e)};var Ne=function(e){var t=Pe(),a=Object(d.b)(),n=Object(pe.b)().enqueueSnackbar,c=i.a.useState(!1),s=Object(l.a)(c,2),o=s[0],u=s[1],j=G(E),h=j.response,f=j.performFetch,m=j.clearFetch,v=i.a.useState({username:"",password:""}),x=Object(l.a)(v,2),g=x[0],y=x[1],w=Object(r.useCallback)((function(e){y(e)}),[y]),C=Object(r.useCallback)((function(){var e=g.username,t=g.password;e||t?e?t?u(!0):n("Password required",Re({variant:"error"})):n("Username required",Re({variant:"error"})):n("Username and Password required",Re({variant:"error"}))}),[n,g]);return Object(r.useEffect)((function(){o&&f(g)}),[o,g,f]),Object(r.useEffect)((function(){var e=function(e){"Enter"===e.key&&C()};return window.addEventListener("keypress",e),function(){window.removeEventListener("keypress",e)}}),[C]),Object(r.useEffect)((function(){var e=h.data,t=h.loading,r=h.error;r&&(r.non_field_errors&&r.non_field_errors.forEach((function(e){n(e,Re({variant:"error"}))})),r.password&&n(r.password.replace("This","Password"),Re({variant:"error"})),r.username&&n(r.username.replace("This","Username"),Re({variant:"error"})),r.detail&&n("Request parse error. My fault :(",Re({variant:"error"}))),e&&(Te.common.headers.Authorization="Token ".concat(e.token),a(xe(g.username)),m(),n("Successfully logged in",Re({variant:"success"}))),t||u(!1)}),[h,n,a,g.username,m]),Object(ne.jsx)(ne.Fragment,{children:Object(ne.jsxs)(Se,{open:!0,children:[Object(ne.jsx)(ue.a,{id:"form-dialog-title",disableTypography:!0,children:Object(ne.jsx)(b.a,{align:"center",variant:"h4",display:"block",children:"SIGN IN"})}),Object(ne.jsx)(de.a,{dividers:!0,children:Object(ne.jsx)(p.a,{display:"flex",flexDirection:"column",height:"100%",children:Object(ne.jsx)(fe,{onChange:w,value:g})})}),Object(ne.jsx)(je.a,{children:Object(ne.jsxs)(O.a,{className:t.button,variant:"outlined",onClick:C,disabled:h.loading,children:[h.loading&&Object(ne.jsx)(Q.a,{size:20,style:{marginRight:"10px"}}),Object(ne.jsx)(b.a,{variant:"h6",children:"Sign In"})]})})]})})},Ue=a(175),Fe=a(176),Le=["id","username","onClick"];var De=function(e){var t=e.id,a=e.username,n=e.onClick,r=Object(_.a)(e,Le);return Object(ne.jsx)(Ue.a,Object(k.a)(Object(k.a)({button:!0,divider:!0,onClick:function(){return n(t)}},r),{},{children:Object(ne.jsx)(Fe.a,{primary:a,secondary:t})}))},Ie=a(67),We=a.n(Ie),ze=Object(j.a)((function(e){return{paper:{position:"relative",padding:e.spacing(1),marginTop:e.spacing(2),marginBottom:e.spacing(2)},header:{position:"absolute",margin:0,left:0,top:0,padding:"".concat(e.spacing(.5),"px ").concat(e.spacing(2),"px"),transform:"translate(".concat(e.spacing(3),"px, -50%)")}}}));var Ae=function(e){var t=e.onChange,a=e.value,n=void 0===a?null:a,r=ze(),c=i.a.useState(!1),s=Object(l.a)(c,2),o=s[0],u=s[1],d=i.a.createRef(),j=i.a.createRef(),p=i.a.createRef(),h=i.a.createRef(),O=function(){t({username:d.current.value,password:j.current.value,first_name:p.current.value,last_name:h.current.value})};return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsxs)(m.a,{className:r.paper,variant:"outlined",children:[Object(ne.jsx)(m.a,{className:r.header,variant:"outlined",children:Object(ne.jsx)(b.a,{variant:"subtitle2",children:"Authentication data"})}),Object(ne.jsx)(v.a,{autoFocus:!0,margin:"normal",id:"username",label:"Username",variant:"filled",type:"text",inputProps:{maxLength:150},inputRef:d,value:null===n||void 0===n?void 0:n.username,onChange:O,fullWidth:!0}),Object(ne.jsx)(v.a,{margin:"normal",id:"password",label:"Password",variant:"filled",type:o?"text":"password",inputProps:{maxLength:128},inputRef:j,value:null===n||void 0===n?void 0:n.password,onChange:O,InputProps:{endAdornment:Object(ne.jsx)(be.a,{position:"end",children:Object(ne.jsx)(f.a,{"aria-label":"toggle password visibility",onClick:function(){u(!o)},onMouseDown:function(e){e.preventDefault()},edge:"end",children:o?Object(ne.jsx)(he.a,{}):Object(ne.jsx)(Oe.a,{})})})},fullWidth:!0})]}),Object(ne.jsxs)(m.a,{className:r.paper,variant:"outlined",children:[Object(ne.jsx)(m.a,{className:r.header,variant:"outlined",children:Object(ne.jsx)(b.a,{variant:"subtitle2",children:"Personal data"})}),Object(ne.jsx)(v.a,{margin:"normal",id:"firstname",label:"First name",variant:"filled",type:"text",inputProps:{maxLength:30},inputRef:p,value:null===n||void 0===n?void 0:n.firstname,onChange:O,fullWidth:!0}),Object(ne.jsx)(v.a,{margin:"normal",id:"lastname",label:"Last name",variant:"filled",type:"text",inputProps:{maxLength:150},inputRef:h,value:null===n||void 0===n?void 0:n.lastname,onChange:O,fullWidth:!0})]})]})},Be=["username","password","detail"],qe=Object(j.a)((function(e){return{button:{textTransform:"none"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}})),Me=function(e){return Object(k.a)({anchorOrigin:{horizontal:"center",vertical:"top"},transitionDuration:{appear:200,enter:200,exit:400},autoHideDuration:3e3,TransitionComponent:function(e){return Object(ne.jsx)(le.a,Object(k.a)(Object(k.a)({},e),{},{direction:"down"}))}},e)};var He=function(e){var t=e.open,a=e.onClose,n=void 0===a?null:a,c=e.onCreatedUser,s=void 0===c?null:c,o=qe(),u=Object(pe.b)().enqueueSnackbar,d=i.a.useState({username:"",password:"",first_name:"",last_name:""}),j=Object(l.a)(d,2),h=j[0],m=j[1],v=i.a.useState(!1),x=Object(l.a)(v,2),g=x[0],y=x[1],w=G(P),C=w.response,T=w.performFetch,E=w.clearFetch;return Object(r.useEffect)((function(){g&&T(Object(k.a)(Object(k.a)({},h),{},{is_active:!0}))}),[g,h,T]),Object(r.useEffect)((function(){var e=C.data,t=C.loading,a=C.error;if(a){var r=a.username,i=a.password,c=a.detail,o=Object(_.a)(a,Be);i&&u(a.password,Me({variant:"error"})),r&&u(a.username,Me({variant:"error"})),c&&u(a.detail,Me({variant:"error"}));for(var d=0,j=Object.entries(o);d<j.length;d++){var p=Object(l.a)(j[d],2),b=p[0],h=p[1].join("; ");u("".concat(b,": ").concat(h),Me({variant:"error"}))}}e&&(u("\u0421reated user successfully",Me({variant:"success"})),s&&(s(e),E()),n()),t||y(!1)}),[C,u,n,s,E]),Object(ne.jsxs)(Se,{open:t,onClose:function(){n()},children:[Object(ne.jsxs)(ue.a,{id:"form-dialog-title",disableTypography:!0,children:[Object(ne.jsx)(b.a,{align:"center",variant:"h4",display:"block",children:"REGISTER NEW USER"}),n?Object(ne.jsx)(f.a,{"aria-label":"close",className:o.closeButton,onClick:function(){n()},children:Object(ne.jsx)(We.a,{})}):null]}),Object(ne.jsx)(de.a,{dividers:!0,children:Object(ne.jsx)(p.a,{display:"flex",flexDirection:"column",height:"100%",children:Object(ne.jsx)(Ae,{onChange:function(e){m(e)},value:h})})}),Object(ne.jsx)(je.a,{children:Object(ne.jsxs)(O.a,{className:o.button,variant:"outlined",onClick:function(){var e=h.username,t=h.password;e||t?e?t?/^[\w.@+-]+$/.test(e)?/^(?=.*[A-Z])(?=.*\d).{8,}$/.test(t)?y(!0):u("Password should be 8+ characters and at least 1 capital, 1 numeric",Me({variant:"error"})):u("Username invalid. Letters, digits and @/./+/-/_ only",Me({variant:"error"})):u("Password required",Me({variant:"error"})):u("Username required",Me({variant:"error"})):u("Username and Password required",Me({variant:"error"}))},disabled:C.loading,children:[C.loading&&Object(ne.jsx)(Q.a,{size:20,style:{marginRight:"10px"}}),Object(ne.jsx)(b.a,{variant:"h6",children:"Register"})]})})]})},Ge=Object(j.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));var Xe=function(e){var t=e.open,a=e.onOk,n=e.onCancel,r=e.header,i=e.ok,c=void 0===i?"ok":i,s=e.cancel,o=void 0===s?"cancel":s,l=e.loading,u=void 0!==l&&l,d=e.children,j=Ge();return Object(ne.jsxs)(Se,{open:t,onClose:function(){n()},children:[Object(ne.jsxs)(ue.a,{id:"form-dialog-title",disableTypography:!0,children:[Object(ne.jsx)(b.a,{align:"left",variant:"h4",display:"block",children:r}),n?Object(ne.jsx)(f.a,{"aria-label":"close",className:j.closeButton,onClick:function(){n()},children:Object(ne.jsx)(We.a,{})}):null]}),Object(ne.jsx)(de.a,{dividers:!0,children:d}),Object(ne.jsxs)(je.a,{children:[Object(ne.jsxs)(O.a,{variant:"outlined",onClick:function(){return n()},disabled:u,children:[u&&Object(ne.jsx)(Q.a,{size:20,style:{marginRight:"10px"}}),Object(ne.jsx)(b.a,{variant:"h6",children:o})]}),Object(ne.jsxs)(O.a,{variant:"outlined",onClick:function(){return a()},disabled:u,children:[u&&Object(ne.jsx)(Q.a,{size:20,style:{marginRight:"10px"}}),Object(ne.jsx)(b.a,{variant:"h6",children:c})]})]})]})},$e=Object(j.a)((function(e){return{root:{padding:e.spacing(4,1,2),maxWidth:e.breakpoints.width("sm")},paper:{position:"relative",padding:e.spacing(1),marginTop:e.spacing(2),marginBottom:e.spacing(4)},header:{position:"absolute",margin:0,left:0,top:0,padding:"".concat(e.spacing(.5),"px ").concat(e.spacing(2),"px"),transform:"translate(".concat(e.spacing(3),"px, -50%)")}}})),Je=function(e){return Object(k.a)({anchorOrigin:{horizontal:"center",vertical:"top"},transitionDuration:{appear:200,enter:200,exit:400},autoHideDuration:3e3,TransitionComponent:function(e){return Object(ne.jsx)(le.a,Object(k.a)(Object(k.a)({},e),{},{direction:"down"}))}},e)};var Ve=function(e){var t=e.user,a=e.onUpdate,n=void 0===a?null:a,c=$e(),s=i.a.useState(!1),o=Object(l.a)(s,2),u=o[0],d=o[1],j=i.a.useState(!1),h=Object(l.a)(j,2),x=h[0],g=h[1],y=i.a.useState(t.username),w=Object(l.a)(y,2),C=w[0],k=w[1],_=i.a.useState(""),T=Object(l.a)(_,2),E=T[0],S=T[1],P=i.a.useState(t.username),N=Object(l.a)(P,2),U=N[0],F=N[1],L=i.a.useState(t.username),D=Object(l.a)(L,2),I=D[0],W=D[1],z=Object(pe.b)().enqueueSnackbar,A=G(R),B=A.response,q=A.performFetch,M=A.clearFetch;return Object(r.useEffect)((function(){k(t.username),S(""),F(t.first_name),W(t.last_name)}),[t]),Object(r.useEffect)((function(){var e=B.data,a=B.error;a&&(a.password&&z(a.password,Je({variant:"error"})),a.username&&z(a.username,Je({variant:"error"})),a.detail&&z("Request parse error. My fault :(",Je({variant:"error"})),M()),e&&(e.is_active!==t.is_active?z("Removed user successfully",Je({variant:"success"})):z("Changed user successfully",Je({variant:"success"})),M(),n&&n(e))}),[B,z,t,M,n]),Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(Xe,{open:x,header:"Remove user",onOk:function(){q({is_active:!1},{id:t.id})},onCancel:function(){g(!1)},loading:B.loading,children:Object(ne.jsx)(b.a,{variant:"body1",children:"Are you sure you want to remove user?"})}),Object(ne.jsxs)(m.a,{className:c.root,children:[Object(ne.jsxs)(m.a,{className:c.paper,variant:"outlined",children:[Object(ne.jsx)(m.a,{className:c.header,variant:"outlined",children:Object(ne.jsx)(b.a,{variant:"subtitle2",children:"Authentication data"})}),Object(ne.jsx)(v.a,{autoFocus:!0,margin:"normal",id:"username",label:"Username",variant:"filled",type:"text",inputProps:{maxLength:150},value:C,helperText:C!==t.username?"modified":null,onChange:function(e){return k(e.target.value)},fullWidth:!0}),Object(ne.jsx)(v.a,{margin:"normal",id:"password",label:"Password",variant:"filled",type:u?"text":"password",inputProps:{maxLength:128},value:E,helperText:""!==E?"modified":null,onChange:function(e){return S(e.target.value)},InputProps:{endAdornment:Object(ne.jsx)(be.a,{position:"end",children:Object(ne.jsx)(f.a,{"aria-label":"toggle password visibility",onClick:function(){d(!u)},onMouseDown:function(e){e.preventDefault()},edge:"end",children:u?Object(ne.jsx)(he.a,{}):Object(ne.jsx)(Oe.a,{})})})},fullWidth:!0})]}),Object(ne.jsxs)(m.a,{className:c.paper,variant:"outlined",children:[Object(ne.jsx)(m.a,{className:c.header,variant:"outlined",children:Object(ne.jsx)(b.a,{variant:"subtitle2",children:"Personal data"})}),Object(ne.jsx)(v.a,{margin:"normal",id:"firstname",label:"First name",variant:"filled",type:"text",inputProps:{maxLength:30},value:U,helperText:U!==t.first_name?"modified":null,onChange:function(e){return F(e.target.value)},fullWidth:!0}),Object(ne.jsx)(v.a,{margin:"normal",id:"lastname",label:"Last name",variant:"filled",type:"text",inputProps:{maxLength:150},value:I,helperText:I!==t.last_name?"modified":null,onChange:function(e){return W(e.target.value)},fullWidth:!0})]}),Object(ne.jsxs)(p.a,{display:"flex",justifyContent:"space-between",children:[Object(ne.jsx)(O.a,{variant:"contained",color:"secondary",onClick:function(){return g(!0)},children:"Remove"}),Object(ne.jsx)(O.a,{variant:"contained",onClick:function(){var e={};if(C!==t.username){if(!C)return void z("Username can't be empty",Je({variant:"error"}));if(!/^[\w.@+-]+$/.test(C))return void z("Username invalid. Letters, digits and @/./+/-/_ only",Je({variant:"error"}));e.username=C}if(""!==E){if(/^(?=.*[A-Z])(?=.*\d).{8,}$/.test(E))return void z("Password should be 8+ characters and at least 1 capital, 1 numeric",Je({variant:"error"}));e.password=E}U!==t.first_name&&(e.first_name=U),I!==t.last_name&&(e.last_name=I),0!==Object.keys(e).length?q(e,{id:t.id}):z("There are no changes",Je({variant:"default"}))},children:"Change"})]})]})]})},Ze=Object(j.a)((function(e){var t;return{root:{display:"flex"},filter:(t={position:"sticky",top:e.spacing(8)},Object(u.a)(t,e.breakpoints.down("xs"),{top:e.spacing(7)}),Object(u.a)(t,"display","flex"),Object(u.a)(t,"padding",e.spacing(2,1)),Object(u.a)(t,"zIndex",e.zIndex.drawer+1),Object(u.a)(t,"backgroundColor",e.palette.background.paper),t),topButton:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},meButton:{textTransform:"none",textDecoration:"underline !important"}}})),Ke=function(e){return e.storage};var Qe=function(){var e,t=Ze(),a=Object(d.c)(Ke),n=Object(d.b)(),c=i.a.useState(""),s=Object(l.a)(c,2),u=s[0],j=s[1],g=i.a.useState(!1),w=Object(l.a)(g,2),k=w[0],_=w[1],T=i.a.useState(null),E=Object(l.a)(T,2),P=E[0],R=E[1],N=G(S),U=N.response,F=N.performFetch,L=N.clearFetch;Object(r.useEffect)((function(){a.me&&F()}),[a.me,F]),console.log(null===(e=a.me)||void 0===e?void 0:e.username);var D=function(e){R(e!==P?e:null)},I=function(){F()};return Object(ne.jsxs)("div",{className:t.root,children:[Object(ne.jsxs)(ce,{loading:U.loading,top:Object(ne.jsxs)(p.a,{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(ne.jsx)(b.a,{variant:"h6",noWrap:!0,children:"Emphasoft"}),Object(ne.jsx)(h.a,{smDown:!0,children:Object(ne.jsx)(O.a,{className:t.topButton,variant:"outlined",color:"inherit",onClick:function(){return _(!0)},children:"Register User"})}),a.me?Object(ne.jsxs)(p.a,{display:"flex",children:[Object(ne.jsx)(O.a,{color:"inherit",className:t.meButton,onClick:function(){if(U.data){var e,t=Object(o.a)(U.data);try{for(t.s();!(e=t.n()).done;){var n,r=e.value;r.is_active&&r.username===(null===(n=a.me)||void 0===n?void 0:n.username)&&R(r.id)}}catch(i){t.e(i)}finally{t.f()}}},children:Object(ne.jsx)(b.a,{variant:"h6",noWrap:!0,children:a.me.username})}),Object(ne.jsx)(f.a,{color:"inherit",onClick:function(){delete Te.common.headers.Authorization,n(ge()),L()},children:Object(ne.jsx)(C.a,{fontSize:"large"})})]}):null]}),header:Object(ne.jsx)(O.a,{variant:"outlined",color:"inherit",onClick:function(){return _(!0)},children:"Register User"}),children:[Object(ne.jsxs)(m.a,{className:t.filter,square:!0,children:[Object(ne.jsx)(v.a,{fullWidth:!0,variant:"outlined",label:"Find username",placeholder:"Enter username...",onChange:function(e){j(e.target.value)},value:u}),Object(ne.jsx)(f.a,{"aria-label":"update",onClick:I,children:Object(ne.jsx)(y.a,{fontSize:"large"})})]}),Object(ne.jsx)(x.a,{children:(U.data||[]).sort((function(e,t){return e.id-t.id||0})).filter((function(e){return e.username.match(new RegExp(u,"i"))})).filter((function(e){return e.is_active})).map((function(e){return Object(ne.jsx)(De,{id:e.id,username:e.username,selected:e.id===P,onClick:D},e.id)}))})]}),Object(ne.jsxs)(oe,{children:[P?Object(ne.jsx)(Ve,{user:U.data.find((function(e){return e.id===P})),onUpdate:function(e){e.username===a.me.username&&!1===e.is_active&&(delete Te.common.headers.Authorization,n(ge())),R(null),I()}}):null,a.me?null:Object(ne.jsx)(Ne,{}),Object(ne.jsx)(He,{open:k,onClose:function(){return _(!1)},onCreatedUser:I})]})]})},Ye=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,181)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))},et=a(47),tt=a(94);var at=Object.keys(U).reduce((function(e,t){return e[M()(t)]={data:null,loading:!1,error:null},e}),{}),nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;if(t.type.startsWith(F)){var a=M()(t.type.replace(F,""));return Object(k.a)(Object(k.a)({},e),{},Object(u.a)({},a,Object(k.a)(Object(k.a)({},e[a]),{},{loading:!0,error:null})))}if(t.type.startsWith(L)){var n=M()(t.type.replace(L,""));return Object(k.a)(Object(k.a)({},e),{},Object(u.a)({},n,Object(k.a)(Object(k.a)({},e[n]),{},{data:t.payload,loading:!1,error:null})))}if(t.type.startsWith(D)){var r=M()(t.type.replace(D,""));return Object(k.a)(Object(k.a)({},e),{},Object(u.a)({},r,Object(k.a)(Object(k.a)({},e[r]),{},{loading:!1,error:t.payload})))}if(t.type.startsWith(I)){var i=M()(t.type.replace(I,""));return Object(k.a)(Object(k.a)({},e),{},Object(u.a)({},i,Object(k.a)(Object(k.a)({},e[i]),{},{loading:!1,error:null,data:null})))}return e},rt={me:null},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:case ve:return Object(k.a)(Object(k.a)({},e),{},{me:t.payload});default:return e}},ct=a(58),st=we.a.mark(ut),ot=we.a.mark(dt),lt=we.a.mark(jt);function ut(){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ct.c)((function(e){return e.type.startsWith(F)}),dt);case 2:case"end":return e.stop()}}),st)}function dt(e){var t,a,n,r;return we.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.type,a=e.payload,n=t.replace(F,"").toLowerCase(),i.prev=2,i.next=5,Te.fetch(Object(k.a)({endpoint:n},a));case 5:return r=i.sent,i.next=8,Object(ct.b)(z(n,r));case 8:i.next=14;break;case 10:return i.prev=10,i.t0=i.catch(2),i.next=14,Object(ct.b)(A(n,i.t0));case 14:case"end":return i.stop()}}),ot,null,[[2,10]])}function jt(){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ct.a)([ut()]);case 2:case"end":return e.stop()}}),lt)}var pt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:et.c,bt=Object(et.b)({api:nt,storage:it}),ht=Object(tt.a)(),Ot=Object(et.d)(bt,pt(Object(et.a)(ht)));ht.run(jt);var ft=Ot;s.a.render(Object(ne.jsx)(i.a.StrictMode,{children:Object(ne.jsx)(d.a,{store:ft,children:Object(ne.jsx)(pe.a,{maxSnack:2,children:Object(ne.jsx)(Qe,{})})})}),document.getElementById("root")),Ye()}},[[127,1,2]]]);
//# sourceMappingURL=main.e3e3244c.chunk.js.map